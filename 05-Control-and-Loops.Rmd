# 条件与循环（施工中）

## 条件if

### 多行if

![ifelse, ifelse](http://web.suda.edu.cn/hejun/images/python4/more_branch_if_elif_else.png)

```{python}
price = 102
if price <100:
  print ('buy')
elif price < 110:
  print ('hold')
elif price < 120:
  print ('think about it')
else:
  print ('sell')

```

### 单行if
```{python}
price = 70
if price<80: print('buy')

```

### 三元表达式

```{python}
price = 85
'buy' if (price<80) else 'don\'t buy'
```

### 练习


小明身高1.75m，体重80.5kg。请根据BMI公式（体重除以身高的平方）帮小明计算他的BMI指数，并根据BMI指数：

1. 低于18.5：过轻
2. 18.5-25：正常
3. 25-28：过重
4. 28-32：肥胖
5. 高于32：严重肥胖



用if-elif判断并打印结果：


小提示：

```{python}
height = 1.75
weight = 80.5

# 计算BMI指数
# 用 if-elif 判断，并打印结果


```

判断闰年：从year, 判断是否为闰年?

注：能被4整除但不能被100整除的 或者 能被400整除 那么就是闰年

```{python}
year = 2005 # 或者任何一年


```


### 嵌套if

例子：用if-else求a、b、c 3个数中最大的一个

思路：

1. 比较a和b
1.1. 若a较大，则比较a和c
1.2. 若a较小，则比较b和c


```{python}
a = 4
b = 2
c = 9


if a>b:
    if a>c:
        max_value=a
    else:
        max_value=c
else:
    if b>c:
        max_value=b
    else:
        max_value=c
        
print(f"最大值是{max_value}")     
```


### 练习

对一个变量number，判断是否能被2或者3整除

按具体的情况，请输出：

1. "你输入的数字可以整除 2 和 3"
2. "你输入的数字可以整除 2，但不能整除 3"
3. "你输入的数字可以整除 3，但不能整除 2"
4. "你输入的数字不能整除 2 和 3"        
            

思路：
1. 先看看2
2. 再看看3

```{python}

```



## while循环

while循环比较直观，“**只要条件成立，就重复执行某块代码块**”

或者说，“**重复执行某块代码块，直到条件不成立为止**”

```{}
while 判断条件(condition)：
    执行语句(statements)
```



### 举例：打印 1到10 

思想：

1. 要把10以内的所有自然数都过一次，肯定要用循环
2. 设计一个变量，用来做计数器，比如i
3. 每次循环中，计数器累加1，直到10为止，停止循环
4. 每次循环中，打印这个数


* 注：让变量自增的运算符号是`+=`

例如 `i += 2`即让`i`自增2，等价于 `i = i + 2`

```{python}
i = 1
i += 999
print(i)
```


设计一个从1到10的循环
```{python}
i = 1
while i <= 10:
  print(i)
  i +=1 

```

### 练习

1. 打印 1到10 中的偶数。

小提示：如何判断一个数是否是偶数？取余的操作符是`%`


```{python}


```


2. 利用循环，求1到100的累加，计算完成最后打印出来

小提示：你可以建立一个新的变量，用来存放累加的结果

```{python}


```

## for循环

for循环一般用于遍历一个可迭代对象（简单理解，就是如 List、Tuple和Dict这样具有序列结构的数据）

其作用是“对其中的每一个元素都做点什么”。

如果你要对一个List中的每一个元素都做点什么，此时就应该用for循环。


例如，我们要打印`a = [1,2,3,4,5]`中的每一个元素

或者说，我们要对`a = [1,2,3,4,5]`中的每一个元素，执行打印这个动作。


```{python}

a_list = [1,2,3,4,5]

for i in a_list:  
  print(i)
  

```

解释

1. 目标：对`a = [1,2,3,4,5]`中的每一个元素，执行打印这个动作。
2. `a_list`是一个列表的名字
3. `for i in a_list: `：我们把中的每一个元素，按顺序，逐个过一遍。轮到哪个元素，我们就用`i`来指向它。
4. `  print(i)`：由上一句，`i`可以看作每一个元素代称，我们打印它。注意，前面由“1个缩进”。






break

```{python}
a = [1,2,3,4,5]

for i in a:
  if i < 4:
    print (i)
  else:
    print('从这里断开！')
    break
else:
  print('循环完成！')

```





### range的循环



`range(起点, 终点, 步长)`：快速生成一个序列：惰性的（lazy）可迭代序列

1. `range(0,10)`：生成一个0 ~ 9的自然数序列（包括起点，不包括终点）
2. `range(0,10,2)`：生成一个0 ~ 8的偶数序列（包括起点，不包括终点）
3. 可以转为List，如:

```{python}
print(range(0,10))
print(list(range(0,10))) 
```

但是，range不用转换为List，也可以使用！

如：按索引取值，或者切片(range切片会得到另一个range)等等

```{python}
print(range(10,15)[2])
print(range(10,15)[2:4])
```

也可以替代List，用在for循环中，常用于快速生成一个数字序列

```{python}
for i in range (1,10,2):
    print ('奇数是: ',i) 

```



## 更多练习
求1~100之间能被7整除，但不能同时被5整除的所有整数。For和While版本

求列表（或者元组）平均值。For和While版本
```{python}
score = [70, 90, 78, 85, 97, 94, 65, 80]

```
进阶思考题：二分查找法

对于一个排序的List，找到某一个元素的位置

思路

1. 找到列表的中间位置的元素
2. 比较这个元素，和目标的大小。如果一样大，得到位置。
3. 根据大小，把范围缩小到List前半段，或者后半段
3. 在新的区间，回到1. 重复这个过程


```{python}
a = [ 5,8,15,20,30,45,78,100,120,200 ]
target = 30

```





### 列表推导式List Comprehension

遍历List，并进行某个操作
```{python}
s = ['abc','abcd','bcde','bcdee','cdefg']
[x.upper() for x in s]
```

遍历List，找出符合条件的值，并对其进行某个操作
```{python}
old_list    = ['abc','abcd','bcde','bcdee','cdefg']
matching = [ x.upper() for x in old_list if 'bcd' in x ]
print( matching )
```

## 循环Dict
```{python}
d = {"x": 1, "y": 2}
for key in d:
  print(key, d[key])

```
