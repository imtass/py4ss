# 变量和常用数据类型


## 变量

前面说过，Python（或者其他编程语言）中的变量，和你数学课上的`x, y, z`是同类的概念。

正如前面的例子，Python使用等号`=`来为一个变量赋值

```{python eval=FALSE}
#%% 赋值与重新赋值
a = 1
a = 2
print(a)
```

假如这个一开始不存在，那么赋值的同时，也会把这个变量创造出来。

对于Python语言，这个过程（**不严格地说**）大致是：

1. （绑定）Python在电脑的内存空间找了一个空地，创建了一个对象(object)，存放了`1`这个值，然后把`a`这个名字，和这个对象绑定起来。
2. （重绑定）当我们对变量`a`赋其他值的时候，如`a = 2`的时候，Python另外创建了一个对象，存放了`2`这个值，然后把`a`这个名字，重新绑定到这个新的对象上。
3. （引用）变量名，就像一个内存中的对象的标签。引用这个名字，就是引用其表示的对象。


### 删除一个变量

使用del语句

```{python eval=FALSE}
#%% 删除变量
a = 1
del a
print(a)
```
因为变量`a`已经被我们删除了，所以你再次引用`a`的时候，Python会告诉你,

```
NameError: name 'a' is not defined
```

### 动态语言

Python是一个“动态语言”，即Python的变量的类型是在运行过程中决定，或者说可以在运行中改变：你对这个变量赋什么值，这个变量就是什么类型。

查看变量类型的函数是`type()`

例如

```{python eval=FALSE}
#%% 动态类型
a = 1 
print(type(a))

a = 'apple' # 这里为a赋值了一个字符串
print(type(a))
```
```
<class 'int'>
<class 'str'>
```

显然，`a`先是一个整型int`<class 'int'>`，然后变成了一个字符串str`<class 'str'>`。
这和我们的赋值顺序是一样的。类型后面会详细说


`r colorize("**注意**：", "red")`Python的变量类型是动态确定的。变量的类型不一定能从名字看出来，这是出错的一大来源。


### 变量的命名规则



## 数值

Python 3.x以后，数值类型有2种，整型`int`，和浮点型`float`。

顾名思义，整型可以理解为整数：

```{python}
#%% 整型
a = 1
print(type(a))
```

而浮点型则可以理解为小数：


```{python}
#%% 浮点型
a = 1.23
print(type(a))
```

特别地，`a = 1.0`是什么类型？
```{python}
a = 1.0
print(type(a))
```

显然，`a`是浮点型：只要你赋值的时候有小数点。
这可能是因为：

1. 这个变量客观上是个小数，只是“恰好”是1而已。
2. 或者这个数被四舍五入，比如本来是`1.0000001`之类。


### 数值的操作

1. 常见的操作包括加减乘除`+, -, *, /`，此处不再重复。

特别地，除法永远返回浮点类型：

```{python}
a = 4 / 2
print(a)
print(type(a))
```

2. 整除是`//`。若除数是整型，则返回整型；若出数是浮点型，则返回浮点型

```{python}
5 // 2
```

```{python}
5 // 2.0
```

3. 取余`%`

```{python}
5 % 2
```

4. 乘方 $2^3$
```{python}
2 ** 3
```


## 字符串Str

创建字符串，可以使用单引号、双引号、三单引号和三双引号。其中三引号可以多行定义字符串。

1. 字符串：可以使用单引号、双引号
```{python}
#%% 字符串
a = 'apple' # 或者：a = "apple"
print(a)
```


2. 多行字符串：可以使用三个单引号，或者三个双引号。
```{python eval=FALSE}
a = '''Hello 
Python
'''
print(a)

```


```
Hello
Python
```

### 字符串的常用操作

1. 连接字符串 `+`
```{python}
a = 'Hello'
b = 'Python'
print(a + b)
```


2. 其他常用操作
```{python}
a = 'Hello Python'

print('lo' in a) # in： 是否存在

print(a.find('th') )# find：查找位置

print(a.replace('Python','Bob')) # replace：替换

print(a.lower()) # 转为小写：lower

print(a.upper()) # 转为大写：upper
```



3. 切片：截取字符串的一部分

后面讲列表List会详细介绍


### 显示特殊字符：转义字符`\`

1. “换行\n”

```{python}
print("Hello\nPython")
```

2. 显示反斜杠、单引号、双引号等等

这些字符，本身已经是Python语法的一部分，要放在字符串中显示，需要转义

```{python}
print('反斜杠\\') # 反斜杠 \\
print('\"双引号\"') # 双引号 \'
print('\'单引号\'') # 单引号 \"
```
如果一下子看不清楚，应该如何书写：

1. 作为字符串最外侧的单引号，或者双引号，必须对称
```
a = ' '
```

2. 在单引号，或者双引号内，写入你要的文字
```
a = 'HelloWorld'
```

3. 把转义字符看成一个整体，插入其中，如`\n`
```{python}
a = 'Hello\nWorld'
print(a)
```

4. 插入斜杠等，也是一样



### 字符串格式化

我们往往需要把一个变量插入一行字符中，例如我们想显示变量`a`和`b`的值
```{python eval=FALSE}
#%% 简单加法
a = 1
b = 2
c = a + b
print(a)
print(b)
print(c)
```

会得到：
```
1
2
3
```

但问题是，你只看结果，其实分不清哪个是a，哪个是b，哪个是c。所以，我们更想要的是一句话，如
```
a的值是: 1
b的值是: 2
c的值是: 3
```
所以要用到字符串格式化，把变量和字符串混合。

```{python include=FALSE}
#%% 简单加法
a = 1
b = 2
c = a + b
```

```{python}
print('a的值是:{}\nb的值是:{}'.format(a,b))

```




## 布尔型

## 看懂出错信息

## 列表

## 元组

## 字典

## 类型提示Type Hints
